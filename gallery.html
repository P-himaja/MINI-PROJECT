<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="gallery.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Swiper/11.0.5/swiper-bundle.js">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    <title>Gallery | TravelHub</title>
    </head>


<body>
    <header>
        <section class="header" >
            <a href="homepg.html" class="logo"><img src="logoabout.png"></a>
    
            <nav class="navbar">
                <a href="index.html">Home</a>
                <a href="aboutUs.html">About</a>
                <a href="packages/city_package/packages.html">Packages</a>
                <a href="gallery.html">Gallery</a>
                <a href="contactUs.html"> Contact</a>
            </nav>
        </section>
    </header>


    <div class="wrapper">
        <div class="container">
            <h1 class="heading">Traveller's Gallery</h1>
            <p class="sub-txt">Share your journey snashots with us</p>
        <div class="gallery">
            <div class="card">
                <img src="/packages/package_list/Mumbai1.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Juhu Beach</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </div>
            <figure class="card">
                <img src="/packages/package_list/pune.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Shaniwar wada, Pune</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>   
            </figure>
            <figure class="card">
                <img src="/packages/package_list/nagpur1.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Nagpur</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div> 
            </figure>
            <figure class="card">
                <img src="/packages/package_list/Mumbai2.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Gateway Of India</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/pune2.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Pune</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/nagpur2.jpg" alt="">
                    <div class="overlay-text">
                    <h2 class="card-title">Pune</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/Mumbai.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Mumbai CST</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/pune3.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Visapur Fort</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/nagpur3.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Tadoba-Andhari Tiger Reserve</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
             </figure>
            <figure class="card">
                <img src="/Nashik1.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Vineyard</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="Kas Pathar.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Kas Pathar, Satara</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <figure class="card">
                <img src="/packages/package_list/Aurangabad.jpg" alt="">
                <div class="overlay-text">
                    <h2 class="card-title">Ajanta Caves</h2>
                    <p>Lorem ipsum, dolor sit amet consectetur adipisicing elit. Reiciendis, commodi.</p>
                </div>
            </figure>
            <!-- <figure class="card">
                <img src="Nashik2.jpg" alt="">
                <figcaption>Panchavati</figcaption>
            </figure>
            <figure class="card">
                <img src="Raigad.jpg" alt="">
                <figcaption>Raigad Fort</figcaption>
            </figure> -->
        </div>

        <div class="add-photo-card">
   
            <div class="add-text">
                <h3>Share Your Journey with usüòÑ‚ù§Ô∏è</h3>    
               <p id="lecker">Click hereüëá to Upload your photos</p>
               <button type="button"  class="add-photos-button" onclick="chooseFile()">Add Photo</button>
           
               </div>
               <div id="previewModal" class="modal" style="display: none;">
                <div class="modal-content">
                    <span class="close" onclick="closePreviewModal()">&times;</span>
                    <h4>Photo Preview</h4>
                    <img id="previewImage" alt="Preview" >
                    <input type="text" id="titleInput" placeholder="Title">
                    <input type="text" id="captionInput" placeholder="Add a caption...(5-10 words)">
                    <button type="button" id="uploadButton" onclick="uploadPhoto()">Upload Photo</button>
                </div>
            </div>
    
        
            <form id="uploadForm" style="display: none;">
                <input type="file" id="photoInput" accept="image/*" style="display: none;">
                <input type="file" id="hiddenPhotoInput" accept="image/*" style="display: none;">
            </form>
        
            <div class="uploaded-photo" id="uploadedPhoto" style="display: none;">
                <h4>Uploaded Photo</h4>
                <img id="photoPreview" alt="Preview" style="max-width: 300px;">
            </div>
        
            <div class="img-add">
                <img src="image-gallery.png" alt="add-photo-card">
            </div>
        </div>
        
        <!-- JavaScript -->
        <script>
            // JavaScript
         let uploadedPhotoURL = null;
    
         function chooseFile() {
        // Trigger the hidden file input when the "Add Photo" button is clicked
          document.getElementById('hiddenPhotoInput').click();
    
        // Handle file selection in the hidden input
          document.getElementById('hiddenPhotoInput').addEventListener('change', function () {
            const photoInput = document.getElementById('hiddenPhotoInput');
            const photoFile = photoInput.files[0];
    
            // Display the selected photo in the preview
            displayPhotoPreview(photoFile);
    
            // Show the "Upload Photo" button
            document.getElementById('uploadButton').style.display = 'block';
        });
    }
    
        function displayPhotoPreview(file) {
        // Check if the selected file is an image
         if (file && file.type.startsWith('image/')) {
            const reader = new FileReader();
    
            reader.onload = function (e) {
                // Display the preview image
                const previewImage = document.getElementById('previewImage');
                previewImage.src = e.target.result;
    
                // Show the uploaded photo section
                document.getElementById('uploadedPhoto').style.display = 'none';
    
                // Clear caption input
                document.getElementById('captionInput').value = '';
            };
    
            // Read the selected file as a data URL
            reader.readAsDataURL(file);
            document.getElementById('previewModal').style.display = 'block';
        } 
         else {
            // Handle non-image file selection (optional)
            console.error('Selected file is not an image.');
        }
    }
        document.getElementById('uploadButton').addEventListener('click', uploadPhoto);
    
        function uploadPhoto() {
        // Get the selected photo file
         const photoInput = document.getElementById('hiddenPhotoInput');
         const photoFile = photoInput.files[0];
    
         const captionInputValue = document.getElementById('captionInput').value;
    
        // Create a FormData object to send the file and caption to the server
         const formData = new FormData();
         formData.append('photo', photoFile);
         formData.append('caption', captionInputValue);
    
        // Use AJAX or Fetch API to send the file to the server
         fetch('/upload', {
            method: 'POST',
            body: formData
        })
        .then(response => response.json())
        .then(data => {
            // Handle the server's response, e.g., display a success message
            console.log(data);
    
            // Save the uploaded photo URL
            uploadedPhotoURL = data.photoURL;
    
            // Show the uploaded photo section
            document.getElementById('uploadedPhoto').style.display = 'block';
    
            // Hide the "Upload Photo" button
            document.getElementById('uploadButton').style.display = 'none';
            closePreviewModal();
        })
        .catch(error => {
            // Handle errors, e.g., display an error message to the user
            console.error(error);
        });
    }
    
       function closePreviewModal() {
        // Close the preview modal
         document.getElementById('previewModal').style.display = 'none';
    }
    
    </script>
    
</div>
</div>
</body>
</html>
